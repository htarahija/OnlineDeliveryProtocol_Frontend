[{"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/index.js":"1","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/serviceWorker.js":"2","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/App.js":"3","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Home/Home.jsx":"4","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/AdminHome/AdminHome.jsx":"5","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Login/Login.jsx":"6","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Registration/Registration.jsx":"7"},{"size":505,"mtime":1610541253614,"results":"8","hashOfConfig":"9"},{"size":5341,"mtime":1610541253614,"results":"10","hashOfConfig":"9"},{"size":757,"mtime":1610544304887,"results":"11","hashOfConfig":"9"},{"size":894,"mtime":1610544304891,"results":"12","hashOfConfig":"9"},{"size":503,"mtime":1610541253614,"results":"13","hashOfConfig":"9"},{"size":2854,"mtime":1610544304891,"results":"14","hashOfConfig":"9"},{"size":2950,"mtime":1610544304895,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"sywi2w",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/index.js",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/serviceWorker.js",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/App.js",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Home/Home.jsx",[],["32","33"],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/AdminHome/AdminHome.jsx",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Login/Login.jsx",["34","35"],"import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nconst apiUrl = 'http://localhost:3000';\n\n// Postavke\n\naxios.defaults.withCredentials = true;\naxios.interceptors.request.use(\n    config => {\n      const { origin } = new URL(config.url);\n      const allowedOrigins = [apiUrl];\n      const token = localStorage.getItem('token');\n      if (allowedOrigins.includes(origin)) {\n        config.headers.authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    error => {\n      return Promise.reject(error);\n    }\n);\n\nconst Login =  (props) => {\n    const history = useHistory();\n\n    // Login korisnika\n    const Login_Backend = async () => {\n        var y = document.getElementById('email').value\n        var z = document.getElementById('password').value\n        const requestOptions = {\n            method: 'POST',\n            headers: {withCredentials: true, credentials: 'include','Content-Type': 'application/json'},\n            body: JSON.stringify({\n                \"email\": y,\n                \"password\": z\n            })\n        };\n        const { data } = await axios.post(`${apiUrl}/login`, requestOptions.body, {headers:requestOptions.headers});\n        localStorage.setItem('token.data', data)\n        console.log(data);\n        if(data.user.role === 'admin'){\n            history.push(\"/adminHome\");\n        }else{\n            history.push(\"/userHome\");\n        }\n    }\n\n    // Logout\n    const log__out = async () => {\n\n        const requestOptions = {\n            method: 'GET',\n            headers: {withCredentials: true, credentials: 'include','Content-Type': 'application/json'},\n        };\n        const { data } = await axios.get(`${apiUrl}/logout`, {headers:requestOptions.headers});\n    }\n\n    // HTML\n    return (\n        <div className=\"Login_main\">\n            <div className=\"Textbox_main\">\n                <div className=\"textbox_submain\">\n                    <label htmlFor=\"email\">E-mail</label>\n                    <input type=\"email\" id=\"email\" />\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" id=\"password\" />\n                </div>\n                <button className=\"textbox_button\" onClick={Login_Backend}>\n                    Login\n                </button>\n                <button className=\"Log_out\" onClick={log__out}>Log Out</button>\n                <Link to=\"/\">\n                    <button className=\"Back\">Back</button>\n                </Link>\n            </div>\n            <div className=\"Text_main\">\n                <h2 className=\"sdp\">SOFTVERSKI DIZAJN PROTOKOLA</h2>\n                <p className=\"etf\">Faculty of Electrical Engeneering</p>\n                <p className=\"dot\">Department of Telecommunications</p>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Registration/Registration.jsx",[],{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":2,"column":16,"nodeType":"42","messageId":"43","endLine":2,"endColumn":21},{"ruleId":"40","severity":1,"message":"44","line":72,"column":17,"nodeType":"42","messageId":"43","endLine":72,"endColumn":21},"no-native-reassign",["45"],"no-negated-in-lhs",["46"],"no-unused-vars","'Route' is defined but never used.","Identifier","unusedVar","'data' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]