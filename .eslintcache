[{"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/index.js":"1","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/serviceWorker.js":"2","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/App.js":"3","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Home/Home.jsx":"4","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/AdminHome/AdminHome.jsx":"5","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Login/Login.jsx":"6","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Registration/Registration.jsx":"7","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/UserHome/UserHome.jsx":"8"},{"size":505,"mtime":1610541253614,"results":"9","hashOfConfig":"10"},{"size":5341,"mtime":1610541253614,"results":"11","hashOfConfig":"10"},{"size":865,"mtime":1610546566171,"results":"12","hashOfConfig":"10"},{"size":894,"mtime":1610544304891,"results":"13","hashOfConfig":"10"},{"size":503,"mtime":1610541253614,"results":"14","hashOfConfig":"10"},{"size":3201,"mtime":1610563748338,"results":"15","hashOfConfig":"10"},{"size":2716,"mtime":1610563748338,"results":"16","hashOfConfig":"10"},{"size":827,"mtime":1610568666976,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"sywi2w",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/index.js",[],["36","37"],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/serviceWorker.js",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/App.js",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Home/Home.jsx",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/AdminHome/AdminHome.jsx",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Login/Login.jsx",["38"],"import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport './Login.css'; \n// Postavke\nconst apiUrl = 'http://localhost:3000';\n\naxios.defaults.withCredentials = true;\naxios.interceptors.request.use(\n    config => {\n      const { origin } = new URL(config.url);\n      const allowedOrigins = [apiUrl];\n      const token = localStorage.getItem('token');\n      if (allowedOrigins.includes(origin)) {\n        config.headers.authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    error => {\n      return Promise.reject(error);\n    }\n);\n\nconst Login =  (props) => {\n    const history = useHistory();\n\n    // Login korisnika\n    const Login_Backend = async () => {\n        var y = document.getElementById('email').value\n        var z = document.getElementById('password').value\n        const requestOptions = {\n            method: 'POST',\n            headers: {withCredentials: true, credentials: 'include','Content-Type': 'application/json'},\n            body: JSON.stringify({\n                \"email\": y,\n                \"password\": z\n            })\n        };\n        const { data } = await axios.post(`${apiUrl}/login`, requestOptions.body, {headers:requestOptions.headers});\n        localStorage.setItem('token.data', data)\n        console.log(data);\n        if(data.user.role === 'admin'){\n            history.push(\"/adminHome\");\n        }else{\n            history.push(\"/userHome\");\n        }\n    }\n\n    // Logout\n    const log__out = async () => {\n\n        const requestOptions = {\n            method: 'GET',\n            headers: {withCredentials: true, credentials: 'include','Content-Type': 'application/json'},\n        };\n        const { data } = await axios.get(`${apiUrl}/logout`, {headers:requestOptions.headers});\n    }\n\n    // HTML\n    return (\n        <div className=\"Login_main\">\n            <div className=\"Textbox_main\">\n                <div className=\"textbox_submain\">\n                    <div className=\"mail\">\n                        <label htmlFor=\"email\">E-mail</label>\n                        <input type=\"email\" id=\"email\" />\n                    </div>\n                    <div className=\"pw\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" id=\"password\" />\n                    </div>\n                </div>\n                <div className=\"Buttoni\">\n                    <button className=\"textbox_button\" onClick={Login_Backend}>\n                        Login\n                    </button>\n                    <button className=\"Log_out\" onClick={log__out}>Log Out</button>\n                    <Link to=\"/\">\n                        <button className=\"Backa\">Back</button>\n                    </Link>\n                </div>\n            </div>\n            <div className=\"Text_main\">\n                <h2 className=\"sdp\">SOFTVERSKI DIZAJN PROTOKOLA</h2>\n                <div className=\"instituions\">\n                    <p className=\"etf\">Faculty of Electrical Engeneering</p>\n                    <p className=\"dot\">Department of Telecommunications</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n","/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/Registration/Registration.jsx",[],"/home/beng/REACT-ONLINe/OnlineDeliveryProtocol_Frontend/src/Pages/UserHome/UserHome.jsx",["39","40"],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":56,"column":17,"nodeType":"47","messageId":"48","endLine":56,"endColumn":21},{"ruleId":"45","severity":1,"message":"49","line":15,"column":12,"nodeType":"47","messageId":"48","endLine":15,"endColumn":24},{"ruleId":"45","severity":1,"message":"50","line":15,"column":25,"nodeType":"47","messageId":"48","endLine":15,"endColumn":40},"no-native-reassign",["51"],"no-negated-in-lhs",["52"],"no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar","'selectedItem' is assigned a value but never used.","'setSelectedItem' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]